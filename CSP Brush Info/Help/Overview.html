<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="book.css" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>CSP Brush Info</title>
</head>
<body>
<h1 align="center"><strong><img src="CSPBrushInfo.256x256.png" alt="Logo" width="256" height="256" align="middle" /> CSP Brush Info Overview</strong></h1>
<p align="left">CSP Brush Info is designed to read a Clip Studio Paint brush configuration and display it in a readable form. It can also compare two brushes and show the differences. This can be useful for seeing the structure of the brush parameters and to easily compare the differences between two brushes. It is easier to compare brushes this way than by hunting through the brush properties dialog in Clip Studio Paint, but it is not as pretty. </p>
<p align="left"><a href="#Acknowledgements">Acknowledgements</a> are at the end of the page. </p>
<h3 align="left">How it Works</h3>
<p>The following has been determined by inspection on Windows 10 with the 1.8.8 English version of Clip Studio Paint. It may not be completely accurate and is subject to change with later versions. The equivalent files may be in different locations on your system. </p>
<p> Clip Studio Paint configuration in general uses SQLite databases. These can be found in the CELSYS and CELSYS_EN directories. The CELSYS directory seems to be the current state and is apparently updated when Clip Studio Paint closes. The CELSYS_EN directory does not seem to change, even not always when new versions of Clip Studio Paint are installed. If Clip Studio Paint crashes or is closed in an unusual way, the state will not be saved. There is also a database in the install directory, presumably the default brushes. Brush files with the SUT extension are also SQLite databases. The interesting files for brushes are the SUT files and these database files:</p>
<ul>
  <li>Documents\CELSYS\CLIPStudioPaintVer1_5_0\Tool\EditImageTool.todb</li>
  <li>Documents\CELSYS_EN\CLIPStudioPaintVer1_5_0\Tool\EditImageTool.todb</li>
  <li>Program Files\CELSYS\CLIP STUDIO 1.5\CLIP STUDIO PAINT\Settings\PAINT\Tool\english\EditImageTool.todb</li>
</ul>
<p>These databases include tables for Node and Variant. The Node table has columns NodeName (the name of the brush or other tool), NodeVariantId (the variant corresponding to the current settings), and NodeInitVariantId (the variant corresponding to the default settings you get when restoring). The Node table has a column VariantId and many other columns representing the tool parameters. The brushes appear to be those where the NodeVariantId and NodeInitVariantId are non-zero, and the values of these can be used as the VariantId to find the brush parameters for the given NodeName in the Variant table. That is essentially what this program does. </p>
<h3>The Interface</h3>
<p>This is a screen shot of the CSP Brush Info interface.</p>
<p align="center"><img src="CSPBrushInfo-Screenshot-1.jpg" alt="CSP Brush Info Screenshot" width="80%" /></p>
<p>The interface has a place to enter the names of two databases. You can then choose the brush from the available brushes in the database, and you can choose whether to use the NodeVariantId or the NodeInitVariantId. The buttons at the bottom process either the first or second brush, showing all the parameters, Compare which shows just the parameters that are different, or Quit. There is a right-click context menu you can use to show the Overview (this page) and an About dialog. </p>
<h3>Installation</h3>
<p>If you are installing from a download, just unzip the files into a directory somewhere convenient. Then run it from there. If you are installing from a build, copy these files and directories from the bin/Release directory to a convenient directory.</p>
<ul><li>CSPBrushInfo.exe</li>
  <li>EntityFramework.dll</li>
  <li>EntityFramework.SqlServer.dll</li>
  <li>System.Data.SQLite.dll</li>
  <li>System.Data.SQLite.EF6.dll</li>
  <li>System.Data.SQLite.Linq.dll</li>
  <li>Help (directory) </li>
  <li>x64 (directory) </li>
  <li>x86  (directory) </li>
</ul>
<p>To uninstall, just delete these files.</p>
<p><a name="Acknowledgements" id="Acknowledgements"></a><strong>Acknowledgements</strong></p>
<p>CSP Brush Info uses the NuGet package System.Data.SQLite. Clip Studio Paint is a product of <a href="https://www.celsys.co.jp/en/">Celsys</a>. </p>
</body>
</html>
